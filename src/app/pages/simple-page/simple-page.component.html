<div style="max-width:1024px;padding:20px;margin: 50px auto;">

  <h1>Expand Collapse Single/ Multiple Rows in Angular Material Datatable</h1>
  <a
    href="https://www.freakyjolly.com/expand-collapse-single-or-multiple-rows-in-angular-98-material-table-multiple-single/">Find
    complete tutorial here</a>

  <!-- Master Toggle Button -->
  <div style="text-align: end;padding: 10px 104px;">
    <a mat-raised-button href="javascript:void(0)" (click)="toggleTableRows()" color="primary">Toggle Rows</a>
  </div>

  <table mat-table [dataSource]="dataStudentsList" multiTemplateDataRows style="background: #fff;
  border-top: 1px solid #00000042;
  border-color: #00000042;">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> <mat-checkbox></mat-checkbox>  </th>
      <td mat-cell *matCellDef="let element"> <mat-checkbox></mat-checkbox> </td>
    </ng-container>


    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> <span style="margin-left:9%">Product </span> </th>
      <td mat-cell *matCellDef="let element">
        <div class="row col-md-12">
          <div class="col-md-6" >
            <img style="margin-top:10%" src="https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F9%2F2019%2F08%2Fbottle-service-champagne-XL-MAG0919.jpg" width="50px">
     
          </div>
          <div class="col-md-6" style="margin-left:-27%">
            <p style="color:#000;font-weight:600;padding-top: 11%;" >Staglin Family Vineyar</p>
            <p style="margin-top: -5%;"> France . Belends</p>
          </div>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="rating">
      <th mat-header-cell *matHeaderCellDef> <span style="margin-left:-25%">Rating </span></th>
      <td mat-cell *matCellDef="let element"> <span style="background:#d3e6f752;padding:10%;margin-left:-27%">RP 95</span> <span style="margin-left: 8%;
        padding: 8%;background:#d3e6f752">+3</span> </td>
    </ng-container>

    <ng-container matColumnDef="vintage">
      <th mat-header-cell *matHeaderCellDef style="text-align: right;"> Vintage </th>
      <td mat-cell *matCellDef="let element" style="color:grey"> <span style="margin-left:32%">{{element.vintage}} </span></td>
    </ng-container>

    <ng-container matColumnDef="quantity">
      <th mat-header-cell *matHeaderCellDef style="text-align: right;"> <span>Qty </span></th>
      <td mat-cell *matCellDef="let element" style="color:grey"><span style="margin-left:32%"> {{element.quantity}} </span></td>
    </ng-container>

    <ng-container matColumnDef="volume">
      <th mat-header-cell *matHeaderCellDef ><span style="margin-left:32%"> Volume </span></th>
      <td mat-cell *matCellDef="let element" style="color:grey"> <span style="margin-left:32%"> {{element.volume}} </span></td>
    </ng-container>

    <ng-container matColumnDef="cost">
      <th mat-header-cell *matHeaderCellDef > <span style="margin-left:32%">Cost </span></th>
      <td mat-cell *matCellDef="let element" style="color:grey"><span style="margin-left:32%"> ${{element.cost}}</span> </td>
    </ng-container>


    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef style="text-align: right;"> </th>
      <td mat-cell *matCellDef="let element">
        <a mat-button href="javascript:void()" (click)="element.isExpanded = !element.isExpanded" style="margin-left:32%"><mat-icon style="color:#000;margin-left:32%">expand_more
        </mat-icon></a>
      </td>
    </ng-container>


    <!-- Template for details row -->
    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element" [attr.colspan]="displayedStudentsColumnsList.length">
        <div class="row student-element-detail" [@detailExpand]="element.isExpanded ? 'expanded' : 'collapsed'">
         <div class="row col-md-12" style=" margin-top: 2%;
         color: #000;
         font-weight: 600;">
          <p> Staglin Family Vineyar</p>
         </div>
         <div class="row col-md-12" style="margin-top:-1%;    border-bottom: 1px solid grey;
         margin-bottom: 3%">
           <div class="col-md-6" style="margin-left: -1.8%;">
            <p> <span style="color:#000;font-weight: 600;">Region </span> : United States . California . Blends </p>
           </div>
           <div class="col-md-2">
            <p> <span style="color:#000;font-weight: 600;">Vintage</span>:2010</p>
           </div>
           <div class="col-md-2">
            <button mat-button class="linkBut">View Wine</button>
           </div>

           <div class="col-md-1">
            <button mat-icon-button color="accent" class="editIcon" aria-label="Example icon button with a menu icon">
              <mat-icon>edit_note</mat-icon>
            </button>
          </div>

           <div class="col-md-1">
            <button mat-icon-button disabled  class="delete" > <mat-icon>delete_outline
            </mat-icon></button>
          </div>
         

            
          </div>
          <div class="row col-md-12" style="    margin-top: -1%;
          margin-left: -3%;"> 
            <div class="col-md-6">
              <p style="font-weight:600;color:grey">RATING</p>
              <div class="row col-md-12"  style="margin-left:-7%">
                <div class="col-md-4">
                  <p class="headingExpanded">  James Suckling's</p>
                  <p class="quantityBlue">JS 95</p>
                </div>
                <div class="col-md-4">
                  <p class="headingExpanded">Robert Parker</p>
                  <p class="quantityBlue">RP 80</p>
                </div>
                <div class="col-md-4">
                  <p class="headingExpanded">Antonio Galloris</p>
                  <p class="quantityBlue">---</p>
                </div>
                <div class="col-md-4">
                  <p class="headingExpanded">Wine Spectular Tasting</p>
                  <p class="quantityBlue">WS 79</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <p style="font-weight:600;color:grey">STOCK</p>
              <div class="row col-md-12" style="margin-left:-7%">
                <div class="col-md-4">
                  <p class="headingExpanded">Possiums </p>
                  <p class="quantityMarron">48 Units</p>
                </div>
                <div class="col-md-4">
                  <p>Downtime Condo</p>
                  <p class="quantityMarron">95 Units</p>
                </div>
              </div>
            </div>

          </div>

        </div>
      </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedStudentsColumnsList;sticky: true"></tr>
    <tr mat-row *matRowDef="let element; columns: displayedStudentsColumnsList;" class="student-element-row"
      [class.student-expanded-row]="element.isExpanded"></tr>

    <!-- Extra row to show detail content column -->
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="student-detail-row"></tr>

  </table>



</div>